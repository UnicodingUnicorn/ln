webpackJsonp([1],{122:function(e,a,s){"use strict";var t=s(10),n=s(279),c=s(274),i=s.n(c);t.a.use(n.a),a.a=new n.a({routes:[{path:"/",name:"Home",component:i.a}]})},123:function(e,a,s){"use strict";var t=s(10),n=s(46),c=s(140),i=s(141),f=s(144),d=s(142),r=s(143);t.a.use(n.b),a.a=new n.b.Store({actions:c,getters:i,modules:{user:f.a,channels:d.a,messages:r.a}})},124:function(e,a,s){function t(e){s(225)}var n=s(45)(s(133),s(277),t,null,null);e.exports=n.exports},133:function(e,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default={name:"app"}},134:function(e,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var t=s(48),n=s.n(t),c=s(46);a.default={computed:n()({},s.i(c.a)({channels:"channels"})),methods:{changeGC:function(e,a){this.$emit("changeGC",e,a)}},mounted:function(){console.log("foo")}}},135:function(e,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var t=s(48),n=s.n(t),c=s(46),i=s(115),f=(s.n(i),s(28)),d=s.n(f),r=s(15),o=(r.a.MESSAGES_URL,null),u=null;r.a.SOCKETCLUSTER_HOST,r.a.SOCKETCLUSTER_PORT;a.default={computed:n()({},s.i(c.a)({token:"user_token",messages:"messages"})),data:function(){return{loggedIn:void 0,message:"",messages:[]}},props:["group","channel"],methods:{send:function(e){""!=this.message&&o.publish(this.group+"+"+this.channel,{message:this.message},function(e){e?d.a.error(e):this.message=""}.bind(this))},renderTime:function(e){var a=new Date(e);return Date.now()-a.getTime()>864e5?a.getDay()+"/"+a.getMonth()+"/"+a.getFullYear():(a.getHours()<10?"0"+a.getHours():a.getHours())+":"+(a.getMinutes()<10?"0"+a.getMinutes():a.getMinutes())},addMessage:function(e){if(this.messages.length>0){var a=this.messages[this.messages.length-1];if(a.user!=e.user)this.messages.push({user:e.user,datetime:e.datetime,messages:[e.message]});else{var s=new Date(a.datetime),t=new Date(e.datetime);this.renderTime(s)==this.renderTime(t)?a.messages.push(e.message):this.messages.push({user:e.user,datetime:e.datetime,messages:[e.message]})}}else this.messages.push({user:e.user,datetime:e.datetime,messages:[e.message]});u.scrollTop=u.scrollHeight},subscribeNew:function(){this.messages=[],o.unsubscribe(this.group+"+"+this.channel),o.subscribe(this.group+"+"+this.channel,{waitForAuth:!0}).watch(function(e){this.$store.dispatch("add_message",{message:e,gc:this.group+"+"+this.channel})}.bind(this))}},watch:{group:function(){this.subscribeNew(),this.loadMessages()},channel:function(){this.subscribeNew(),this.loadMessages()}},mounted:function(){u=this.$el.querySelector("#chatView")},beforeDestroy:function(){o.unsubscribe(this.group+"+"+this.channel)}}},136:function(e,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var t=s(48),n=s.n(t),c=s(61),i=s.n(c),f=s(201),d=s.n(f),r=s(115),o=s.n(r),u=s(28),b=s.n(u),l=s(273),h=s.n(l),m=s(272),g=s.n(m),p=s(15),_=s(75),v=s(46),y=d.a.randomBytes(32).toString("base64").slice(0,32).replace(/\+/g,"0").replace(/\//g,"0"),S=null,w={hostname:p.a.SOCKETCLUSTER_HOST,port:p.a.SOCKETCLUSTER_PORT};a.default={components:{Chat:h.a,Channels:g.a},data:function(){return{group:"",channel:"",current_messages:[],redirect_uri:p.a.OPENID_URL+"/authorise?scope=openid+profile+email&client_id="+p.a.CLIENT_ID+"&response_type=id_token&nonce="+y+"&redirect_uri="+encodeURIComponent(p.a.SELF_URL+"/#/")}},computed:n()({},s.i(v.a)({token:"user_token",channels:"channels",messages:"messages",users:"users"})),watch:{messages:function(e){this.current_messages=this.messages[this.group+"+"+this.channel]}},methods:{changeGC:function(e,a){this.group=e,this.channel=a,i.a.set("gc",{group:this.group,channel:this.channel})},logout:function(e){this.channels.forEach(function(e){e.channels.forEach(function(a){S.unsubscribe(e.group+"+"+a)})}),S.emit("logout",{},function(){this.$store.dispatch("logout"),this.$router.go(this.$router.currentRoute)}.bind(this))},render_time:_.a.render_time,send:function(e){""!=this.message&&S.publish(this.group+"+"+this.channel,{message:this.message,type:"m"},function(e){e?b.a.error(e):this.message=""}.bind(this))},uploadfile:function(e){var a=new FormData;a.append("file",$("#file_upload")[0].files[0]),_.a.send_file(a,this.token,function(e){S.publish(this.group+"+"+this.channel,{message:{filename:e.body.filename,originalname:e.body.originalname},type:"f"},function(e){e?b.a.error(e):this.message=""}.bind(this))}.bind(this))},init_channels:function(){this.$store.dispatch("refresh_channels",this.token).then(function(){this.$store.dispatch("init_messages",{channels:this.channels,token:this.token}).then(function(){$("#chatView")[0].scrollTop=$("#chatView")[0].scrollHeight,$("#chatView").scrollTop=$("#chatView").scrollHeight});var e=i.a.get("gc");if(e){var e=JSON.parse(e);this.group=e.group,this.channel=e.channel}else this.group=this.channels[0].group,this.channel=this.channels[0].channels[0],i.a.set("gc",{group:this.group,channel:this.channel});this.channels.forEach(function(e){e.channels.forEach(function(a){S.subscribe(e.group+"+"+a,{waitForAuth:!0}).watch(function(e){this.$store.dispatch("add_message",{message:e,gc:this.group+"+"+this.channel}).then(function(){$("#chatView")[0].scrollTop=$("#chatView")[0].scrollHeight,$("#chatView").scrollTop=$("#chatView").scrollHeight})}.bind(this))}.bind(this))}.bind(this))}.bind(this))},chat_scroll:function(e){0==$("#chatView").scrollTop()&&(console.log(this.at_max()),this.$store.dispatch("load_messages",{gc:{group:this.group,channel:this.channel},token:this.token}))},file_url:function(e,a){return p.a.FILES_URL+"/file/"+e+"/"+a},at_max:function(){return this.current_messages.length/p.a.HISTORY_COUNT},is_image:function(e){return e.split(".")[e.split(".").length-1].match(/(jpeg)|(jpg)|(png)|(gif)/)},image_load:function(e){$("#chatView")[0].scrollTop=$("#chatView")[0].scrollHeight,$("#chatView").scrollTop=$("#chatView").scrollHeight,$(".materialboxed").materialbox()}},mounted:function(){$(".button-collapse").sideNav({closeOnClick:!0}),$(".modal").modal(),void 0!=this.$route.query.id_token?this.token?this.$router.push("/"):i.a.get("nonce")==this.$route.query.nonce?(i.a.remove("nonce"),this.$store.dispatch("login",this.$route.query),this.$router.push("/")):(b.a.error("Improper nonce, you may be under attack."),i.a.remove("nonce"),i.a.set("nonce",y),this.$router.push("/")):i.a.get("nonce")||i.a.set("nonce",y),this.token&&(S=o.a.connect(w),S.on("connect",function(e){e.isAuthenticated?this.init_channels():S.emit("login",{token:this.token,channel:this.group+"+"+this.channel},function(e){e?(this.$router.push("/"),this.token&&b.a.error(e)):this.init_channels()}.bind(this))}.bind(this))),setTimeout(function(){this.token||(window.location.href=this.redirect_uri)}.bind(this),1e3)}}},137:function(e,a,s){"use strict";var t=s(15),n=s(10),c=s(29),i=s(28),f=s.n(i);n.a.use(c.a),a.a={getChannels:function(e,a){n.a.http.get(t.a.MESSAGES_URL+"/channels",{headers:{Authorization:"Bearer "+e}}).then(function(e){a(e.body)},function(e){f.a.error(e.body.message)})}}},138:function(e,a,s){"use strict";var t=s(10),n=s(29),c=s(28),i=s.n(c),f=s(15);t.a.use(n.a),a.a={get_user:function(e,a){t.a.http.get(f.a.ACCOUNTS_URL+"/user/"+e,{responseType:"json"}).then(function(e){a(e.body)},function(e){i.a.error(e.body.message)})},get_users:function(e,a,s){t.a.http.get(f.a.ACCOUNTS_URL+"/users/"+e,{headers:{Authorization:"Bearer "+a},responseType:"json"}).then(function(e){s(e.body.users)},function(e){i.a.error(e.body.message)})}}},139:function(e,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var t=s(10),n=s(124),c=s.n(n),i=s(29),f=s(122),d=s(123);t.a.config.productionTip=!1,t.a.use(i.a),new t.a({el:"#app",store:d.a,router:f.a,template:"<App/>",components:{App:c.a}})},140:function(e,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});s(30)},141:function(e,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),s.d(a,"userToken",function(){return t});var t=function(e){}},142:function(e,a,s){"use strict";var t,n=s(47),c=s.n(n),i=s(76),f=s.n(i),d=s(137),r=s(138),o=s(30),u=s(74),b=s.n(u),l=s(61),h=(s.n(l),{channels:[],users:[]}),m={channels:function(e){return e.channels},users:function(e){return e.users}},g={refresh_channels:function(e,a){var s=e.commit;e.state;return new f.a(function(e,t){d.a.getChannels(a,function(t){var n={};b.a.eachSeries(t,function(e,t){var c=e.split("+")[0],e=e.split("+")[1];n[c]?n[c].push(e):n[c]=[e],r.a.get_users(c+"+"+e,a,function(e){s(o.c,e),t()})},function(){var a=[];for(var t in n)a.push({group:t,channels:n[t]});s(o.d,a),e()})})})}},p=(t={},c()(t,o.d,function(e,a){e.channels=a}),c()(t,o.c,function(e,a){e.users=a}),t);a.a={state:h,getters:m,actions:g,mutations:p}},143:function(e,a,s){"use strict";var t,n=s(47),c=s.n(n),i=s(76),f=s.n(i),d=s(75),r=s(30),o=s(74),u=s.n(o),b=s(10),l=s(15),h={messages:{},num_messages:{}},m={messages:function(e){return e.messages},num_messages:function(e){return e.num_messages}},g={add_message:function(e,a){var s=e.commit;e.state;return new f.a(function(e,t){s(r.a,a),e()})},init_messages:function(e,a){var s=e.commit;e.state;return new f.a(function(e,t){u.a.each(a.channels,function(e,t){u.a.each(e.channels,function(t,n){d.a.get_messages({group:e.group,channel:t},a.token,function(a){a.forEach(function(a){s(r.a,{message:a,gc:e.group+"+"+t})}),n()})},function(e){e?t(e):t()})},function(a){e()})})},load_messages:function(e,a){var s=e.commit,t=e.state;return new f.a(function(e,n){var c=t.num_messages[a.gc.group+"+"+a.gc.channel];c>=l.a.HISTORY_COUNT?d.a.get_messages_offset(a.gc,c,a.token,function(t){for(var n=t.length-1;n>=0;n--)s(r.b,{message:t[n],gc:a.gc.group+"+"+a.gc.channel});e()}):e()})}},p=(t={},c()(t,r.a,function(e,a){if(e.messages[a.gc]){e.num_messages[a.gc]+=1;var s=new Date(a.message.datetime),t=e.messages[a.gc];if(t[t.length-1].date==d.a.render_date(s)){var n=t[t.length-1],c=n.messages[n.messages.length-1];if(c.user!=a.message.user)n.messages.push({user:a.message.user,datetime:a.message.datetime,type:a.message.type,messages:[a.message.message]});else if(c.type!=a.message.type)n.messages.push({user:a.message.user,datetime:a.message.datetime,type:a.message.type,messages:[a.message.message]});else{var i=new Date(c.datetime);d.a.render_time(i)==d.a.render_time(s)?c.messages.push(a.message.message):n.messages.push({user:a.message.user,datetime:a.message.datetime,type:a.message.type,messages:[a.message.message]})}}else e.messages[a.gc].push({date:d.a.render_date(new Date(a.message.datetime)),messages:[{user:a.message.user,datetime:a.message.datetime,type:a.message.type,messages:[a.message.message]}]})}else b.a.set(e.num_messages,a.gc,1),b.a.set(e.messages,a.gc,[{date:d.a.render_date(new Date(a.message.datetime)),messages:[{user:a.message.user,datetime:a.message.datetime,type:a.message.type,messages:[a.message.message]}]}])}),c()(t,r.b,function(e,a){if(e.messages[a.gc]){e.num_messages[a.gc]+=1;var s=new Date(a.message.datetime),t=e.messages[a.gc];if(t[0].date==d.a.render_date(s)){var n=t[0],c=n.messages[0];if(c.user!=a.message.user)n.messages.unshift({user:a.message.user,datetime:a.message.datetime,type:a.message.type,messages:[a.message.message]});else if(c.type!=a.message.type)n.messages.unshift({user:a.message.user,datetime:a.message.datetime,type:a.message.type,messages:[a.message.message]});else{var i=new Date(c.datetime);d.a.render_time(i)==d.a.render_time(s)?c.messages.unshift(a.message.message):n.messages.unshift({user:a.message.user,datetime:a.message.datetime,type:a.message.type,messages:[a.message.message]})}}else e.messages[a.gc].unshift({date:d.a.render_date(new Date(a.message.datetime)),messages:[{user:a.message.user,datetime:a.message.datetime,type:a.message.type,messages:[a.message.message]}]})}else b.a.set(e.num_messages,a.gc,1),b.a.set(e.messages,a.gc,[{date:d.a.render_date(new Date(a.message.datetime)),messages:[{user:a.message.user,datetime:a.message.datetime,type:a.message.type,messages:[a.message.message]}]}])}),t);a.a={state:h,getters:m,actions:g,mutations:p}},144:function(e,a,s){"use strict";var t,n=s(47),c=s.n(n),i=s(30),f=s(61),d=s.n(f),r={token:d.a.get("token"),err_message:""},o={user_token:function(e){return e.token},err_message:function(e){return e.err_message}},u={login:function(e,a){var s=e.commit;e.state;s(i.e),d.a.set("token",a.id_token,{expires:1}),s(i.f,a.id_token)},logout:function(e){var a=e.commit;e.state;d.a.remove("token"),d.a.remove("gc"),a(i.g)}},b=(t={},c()(t,i.e,function(e){e.token="",e.err_message=""}),c()(t,i.f,function(e,a){e.token=a}),c()(t,i.h,function(e,a){e.err_message=a}),c()(t,i.g,function(e){e.token=""}),t);a.a={state:r,getters:o,actions:u,mutations:b}},15:function(e,a,s){"use strict";var t="192.168.99.100";a.a={CLIENT_ID:"406z041j8k0erjm",HISTORY_COUNT:50,SELF_URL:t+":10200",OPENID_URL:"http://"+t+":10202",MESSAGES_URL:"http://"+t+":10204",ACCOUNTS_URL:"http://"+t+":10206",FILES_URL:"http://"+t+":10207",SOCKETCLUSTER_HOST:t,SOCKETCLUSTER_PORT:"10203"}},209:function(e,a){e.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},223:function(e,a){e.exports={_args:[[{raw:"elliptic@^6.0.0",scope:null,escapedName:"elliptic",name:"elliptic",rawSpec:"^6.0.0",spec:">=6.0.0 <7.0.0",type:"range"},"C:\\Users\\orcas\\Documents\\ln\\web\\node_modules\\browserify-sign"]],_from:"elliptic@>=6.0.0 <7.0.0",_id:"elliptic@6.4.0",_inCache:!0,_location:"/elliptic",_nodeVersion:"7.0.0",_npmOperationalInternal:{host:"packages-18-east.internal.npmjs.com",tmp:"tmp/elliptic-6.4.0.tgz_1487798866428_0.30510620190761983"},_npmUser:{name:"indutny",email:"fedor@indutny.com"},_npmVersion:"3.10.8",_phantomChildren:{},_requested:{raw:"elliptic@^6.0.0",scope:null,escapedName:"elliptic",name:"elliptic",rawSpec:"^6.0.0",spec:">=6.0.0 <7.0.0",type:"range"},_requiredBy:["/browserify-sign","/create-ecdh"],_resolved:"https://registry.npmjs.org/elliptic/-/elliptic-6.4.0.tgz",_shasum:"cac9af8762c85836187003c8dfe193e5e2eae5df",_shrinkwrap:null,_spec:"elliptic@^6.0.0",_where:"C:\\Users\\orcas\\Documents\\ln\\web\\node_modules\\browserify-sign",author:{name:"Fedor Indutny",email:"fedor@indutny.com"},bugs:{url:"https://github.com/indutny/elliptic/issues"},dependencies:{"bn.js":"^4.4.0",brorand:"^1.0.1","hash.js":"^1.0.0","hmac-drbg":"^1.0.0",inherits:"^2.0.1","minimalistic-assert":"^1.0.0","minimalistic-crypto-utils":"^1.0.0"},description:"EC cryptography",devDependencies:{brfs:"^1.4.3",coveralls:"^2.11.3",grunt:"^0.4.5","grunt-browserify":"^5.0.0","grunt-cli":"^1.2.0","grunt-contrib-connect":"^1.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^1.0.1","grunt-mocha-istanbul":"^3.0.1","grunt-saucelabs":"^8.6.2",istanbul:"^0.4.2",jscs:"^2.9.0",jshint:"^2.6.0",mocha:"^2.1.0"},directories:{},dist:{shasum:"cac9af8762c85836187003c8dfe193e5e2eae5df",tarball:"https://registry.npmjs.org/elliptic/-/elliptic-6.4.0.tgz"},files:["lib"],gitHead:"6b0d2b76caae91471649c8e21f0b1d3ba0f96090",homepage:"https://github.com/indutny/elliptic",keywords:["EC","Elliptic","curve","Cryptography"],license:"MIT",main:"lib/elliptic.js",maintainers:[{name:"indutny",email:"fedor@indutny.com"}],name:"elliptic",optionalDependencies:{},readme:"ERROR: No README data found!",repository:{type:"git",url:"git+ssh://git@github.com/indutny/elliptic.git"},scripts:{jscs:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",jshint:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",lint:"npm run jscs && npm run jshint",test:"npm run lint && npm run unit",unit:"istanbul test _mocha --reporter=spec test/index.js",version:"grunt dist && git add dist/"},version:"6.4.0"}},224:function(e,a){},225:function(e,a){},226:function(e,a){},239:function(e,a){e.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},272:function(e,a,s){var t=s(45)(s(134),s(276),null,null,null);e.exports=t.exports},273:function(e,a,s){function t(e){s(224)}var n=s(45)(s(135),s(275),t,null,null);e.exports=n.exports},274:function(e,a,s){function t(e){s(226)}var n=s(45)(s(136),s(278),t,null,null);e.exports=n.exports},275:function(e,a){e.exports={render:function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("div",[s("div",{attrs:{id:"chatView"}},[s("ul",{staticClass:"collection"},e._l(e.messages,function(a){return s("li",{staticClass:"collection-item avatar",staticStyle:{"text-align":"left"}},[s("span",{staticClass:"title"},[e._v(e._s(a.user))]),e._v(" "),e._l(a.messages,function(a){return s("p",[e._v(e._s(a))])}),e._v(" "),s("span",{staticClass:"secondary-content"},[e._v(e._s(e.renderTime(a.datetime)))])],2)}))]),e._v(" "),s("form",{staticClass:"entry",on:{submit:function(a){a.preventDefault(),e.send(a)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.message,expression:"message"}],attrs:{type:"text",placeholder:"Enter your message..."},domProps:{value:e.message},on:{input:function(a){a.target.composing||(e.message=a.target.value)}}})])])},staticRenderFns:[]}},276:function(e,a){e.exports={render:function(){var e=this,a=e.$createElement,s=e._self._c||a;return e._l(e.channels,function(a){return s("div",[s("li",[e._v("foo")]),e._v(" "),s("li",[s("a",{staticClass:"subheader"},[e._v(e._s(a.group))])]),e._v(" "),e._l(a.channels,function(t){return s("li",[s("a",{staticClass:"waves-effect",on:{click:function(s){e.changeGC(a.group,t)}}},[e._v(e._s(t))])])})],2)})},staticRenderFns:[]}},277:function(e,a){e.exports={render:function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},staticRenderFns:[]}},278:function(e,a){e.exports={render:function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("div",[s("nav",{directives:[{name:"show",rawName:"v-show",value:void 0!=e.token,expression:"token != undefined"}]},[s("div",{staticClass:"nav-wrapper cyan chat"},[s("a",{staticClass:"button-collapse brand-logo left",attrs:{href:"#","data-activates":"slide-out"}},[s("i",{staticClass:"material-icons"},[e._v("menu")]),e._v(" "+e._s(e.group)+": "+e._s(e.channel))]),e._v(" "),s("ul",{staticClass:"left hide-on-med-and-down"},[s("li",[s("a",[e._v(e._s(e.group)+" : "+e._s(e.channel))])])])])]),e._v(" "),s("ul",{directives:[{name:"show",rawName:"v-show",value:void 0!=e.token,expression:"token != undefined"}],staticClass:"side-nav fixed",attrs:{id:"slide-out"}},[e._l(e.channels,function(a){return s("div",[s("li",[s("a",{staticClass:"subheader"},[e._v(e._s(a.group))])]),e._v(" "),e._l(a.channels,function(t){return s("li",[s("a",{staticClass:"waves-effect",on:{click:function(s){e.changeGC(a.group,t)}}},[e._v(e._s(t))])])})],2)}),e._v(" "),e._m(0),e._v(" "),s("li",[s("a",{staticClass:"waves-effect",on:{click:e.logout}},[s("i",{staticClass:"material-icons"},[e._v("exit_to_app")]),e._v("Logout")])])],2),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:void 0!=e.token,expression:"token != undefined"}],staticClass:"chat"},[s("div",{attrs:{id:"chatView"},on:{scroll:e.chat_scroll}},e._l(e.messages[e.group+"+"+e.channel],function(a){return s("ul",{staticClass:"collection with-header"},[s("li",{staticClass:"collection-header"},[s("h6",{staticClass:"cyan-text"},[e._v(e._s(a.date))])]),e._v(" "),e._l(a.messages,function(a){return s("li",{staticClass:"collection-item avatar",staticStyle:{"text-align":"left"}},[s("span",{staticClass:"title"},[e._v(e._s(e.users[a.user].username))]),e._v(" "),e._l(a.messages,function(t){return s("p",["m"==a.type?s("span",[e._v(e._s(t))]):"f"==a.type?s("span",[s("a",{attrs:{href:e.file_url(a.user,t.filename),download:a.originalname}},[s("b",[e._v(e._s(t.originalname))])]),s("br"),e._v(" "),e.is_image(t.originalname)?s("img",{staticClass:"materialboxed",attrs:{src:e.file_url(a.user,t.filename),alt:t.originalname,width:"90%"},on:{load:function(a){e.image_load(e.event)}}}):e._e(),s("br")]):e._e()])}),e._v(" "),s("span",{staticClass:"secondary-content"},[e._v(e._s(e.render_time(a.datetime)))])],2)})],2)})),e._v(" "),e._m(1),e._v(" "),s("form",{staticClass:"entry",on:{submit:function(a){a.preventDefault(),e.send(a)}}},[s("div",{staticClass:"input-field"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.message,expression:"message"}],attrs:{type:"text",placeholder:"Enter your message..."},domProps:{value:e.message},on:{input:function(a){a.target.composing||(e.message=a.target.value)}}})])]),e._v(" "),s("div",{staticClass:"modal",attrs:{id:"attachment-modal"}},[s("form",{on:{submit:function(a){a.preventDefault(),e.uploadfile(a)}}},[e._m(2),e._v(" "),e._m(3)])])]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:void 0==e.token,expression:"token == undefined"}],staticClass:"valign-wrapper center-align"},[s("p",[e._v("Redirecting to login... If you are not redirected, please go "),s("a",{attrs:{href:e.redirect_uri}},[e._v("here.")])])])])},staticRenderFns:[function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("li",[s("div",{staticClass:"divider"})])},function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("div",{staticClass:"fixed-action-btn"},[s("a",{staticClass:"btn-floating waves-effect waves-light right red modal-trigger",attrs:{href:"#attachment-modal"}},[s("i",{staticClass:"material-icons"},[e._v("attach_file")])])])},function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("div",{staticClass:"modal-content"},[s("h4",[e._v("Upload file")]),e._v(" "),s("div",{staticClass:"file-field input-field"},[s("div",{staticClass:"btn cyan"},[s("span",[e._v("Choose...")]),e._v(" "),s("input",{attrs:{id:"file_upload",type:"file"}})]),e._v(" "),s("div",{staticClass:"file-path-wrapper"},[s("input",{staticClass:"file-path validate",attrs:{type:"text"}})])])])},function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("div",{staticClass:"modal-footer"},[s("input",{staticClass:"modal-close waves-effect waves-green btn-flat",attrs:{type:"submit",value:"Upload"}}),e._v(" "),s("a",{staticClass:"modal-close waves-effect waves-red btn-flat"},[e._v("Close")])])}]}},282:function(e,a){},283:function(e,a){},284:function(e,a){},30:function(e,a,s){"use strict";s.d(a,"e",function(){return t}),s.d(a,"f",function(){return n}),s.d(a,"h",function(){return c}),s.d(a,"g",function(){return i}),s.d(a,"d",function(){return f}),s.d(a,"a",function(){return d}),s.d(a,"b",function(){return r}),s.d(a,"c",function(){return o});var t="LOGIN",n="LOGIN_SUCCESS",c="LOGIN_FAILURE",i="LOGOUT",f="REFRESH_CHANNELS",d="ADD_MESSAGE",r="PREPEND_MESSAGE",o="ADD_USERS"},75:function(e,a,s){"use strict";var t=s(10),n=s(29),c=s(28),i=s.n(c),f=s(15);t.a.use(n.a),a.a={get_messages:function(e,a,s){t.a.http.get(f.a.MESSAGES_URL+"/messages/"+e.group+"+"+e.channel+"/"+f.a.HISTORY_COUNT,{headers:{Authorization:"Bearer "+a},responseType:"json"}).then(function(e){s(e.body)},function(e){i.a.error(e.body.message)})},get_messages_offset:function(e,a,s,n){t.a.http.get(f.a.MESSAGES_URL+"/messages/"+e.group+"+"+e.channel+"/"+a+"/"+f.a.HISTORY_COUNT,{headers:{Authorization:"Bearer "+s},responseType:"json"}).then(function(e){n(e.body)},function(e){i.a.error(e.body.message)})},send_file:function(e,a,s){t.a.http.post(f.a.FILES_URL+"/file",e,{headers:{Authorization:"Bearer "+a}}).then(function(e){s(e)},function(e){i.a.error(e.body.message)})},render_time:function(e){var a=new Date(e);return(a.getHours()<10?"0"+a.getHours():a.getHours())+":"+(a.getMinutes()<10?"0"+a.getMinutes():a.getMinutes())},render_date:function(e){var a=new Date(e);return a.getDay()+"/"+a.getMonth()+"/"+a.getFullYear()}}},86:function(e,a){e.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},87:function(e,a){e.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}}},[139]);
//# sourceMappingURL=app.87f0d01b4f4bb48b6bbf.js.map