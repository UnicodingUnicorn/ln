webpackJsonp([1],{123:function(e,a,s){"use strict";var t=s(11),n=s(279),c=s(276),i=s.n(c);t.a.use(n.a),a.a=new n.a({routes:[{path:"/",name:"Home",component:i.a}]})},124:function(e,a,s){"use strict";var t=s(11),n=s(122),c=s(138),i=s(139),f=s(142),r=s(140),d=s(141);t.a.use(n.b),a.a=new n.b.Store({actions:c,getters:i,modules:{user:f.a,channels:r.a,messages:d.a}})},125:function(e,a,s){function t(e){s(228)}var n=s(121)(s(134),s(277),t,null,null);e.exports=n.exports},134:function(e,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default={name:"app"}},135:function(e,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var t=s(146),n=s.n(t),c=s(62),i=s.n(c),f=s(205),r=s.n(f),d=s(261),o=s.n(d),u=s(45),h=s.n(u),b=s(15),l=s(76),m=s(122),g=r.a.randomBytes(32).toString("base64").slice(0,32).replace(/\+/g,"0").replace(/\//g,"0"),p=null,_={hostname:b.a.SOCKETCLUSTER_HOST,port:b.a.SOCKETCLUSTER_PORT};a.default={data:function(){return{group:"",channel:"",message:"",current_messages:[],redirect_uri:b.a.OPENID_URL+"/authorise?scope=openid+profile+email&client_id="+b.a.CLIENT_ID+"&response_type=id_token&nonce="+g+"&redirect_uri="+encodeURIComponent(b.a.SELF_URL+"/#/")}},computed:n()({},s.i(m.a)({token:"user_token",channels:"channels",messages:"messages",pms:"pms",users:"users",user_info:"user_info"})),watch:{messages:function(e){this.current_messages=this.messages[this.group+"+"+this.channel]}},methods:{changeGC:function(e,a){this.group=e,this.channel=a,i.a.set("gc",{group:this.group,channel:this.channel}),setTimeout(function(){$("#chatView")[0].scrollTop=$("#chatView")[0].scrollHeight,$("#chatView").scrollTop=$("#chatView").scrollHeight},10)},logout:function(e){this.channels.forEach(function(e){e.channels.forEach(function(a){p.unsubscribe(e.group+"+"+a)})}),p.emit("logout",{},function(){this.$store.dispatch("logout"),this.$router.go(this.$router.currentRoute)}.bind(this))},render_time:l.a.render_time,send:function(e){""!=this.message&&("pm"==this.group?(this.$store.dispatch("add_message",{message:{message:this.message,type:"m",datetime:new Date,user:this.user_info.sub},gc:this.group+"+"+this.channel}).then(function(){$("#chatView")[0].scrollTop=$("#chatView")[0].scrollHeight,$("#chatView").scrollTop=$("#chatView").scrollHeight}),p.emit("pm",{sender:this.user_info.sub,recipient:this.channel,message:this.message,type:"m"},function(e){e?h.a.error(e):this.message=""}.bind(this))):p.publish(this.group+"+"+this.channel,{message:this.message,type:"m"},function(e){e?h.a.error(e):this.message=""}.bind(this)))},uploadfile:function(e){var a=new FormData;a.append("file",$("#file_upload")[0].files[0]),l.a.send_file(a,this.token,function(e){"pm"==this.group?(this.$store.dispatch("add_message",{message:{message:{filename:e.body.filename,originalname:e.body.originalname},type:"f",datetime:new Date,user:this.user_info.sub},gc:this.group+"+"+this.channel}).then(function(){$("#chatView")[0].scrollTop=$("#chatView")[0].scrollHeight,$("#chatView").scrollTop=$("#chatView").scrollHeight}),p.emit("pm",{sender:this.user_info.sub,recipient:this.channel,message:{filename:e.body.filename,originalname:e.body.originalname},type:"f"},function(e){e?h.a.error(e):this.message=""}.bind(this))):p.publish(this.group+"+"+this.channel,{message:{filename:e.body.filename,originalname:e.body.originalname},type:"f"},function(e){e?h.a.error(e):this.message=""}.bind(this))}.bind(this))},init_channels:function(){this.$store.dispatch("refresh_channels",this.token).then(function(){this.$store.dispatch("init_messages",{channels:this.channels,token:this.token}).then(function(){$("#chatView")[0].scrollTop=$("#chatView")[0].scrollHeight,$("#chatView").scrollTop=$("#chatView").scrollHeight});var e=i.a.get("gc");if(e){var e=JSON.parse(e);this.group=e.group,this.channel=e.channel}else this.group=this.channels[0].group,this.channel=this.channels[0].channels[0],i.a.set("gc",{group:this.group,channel:this.channel});this.channels.forEach(function(e){e.channels.forEach(function(a){p.subscribe(e.group+"+"+a,{waitForAuth:!0}).watch(function(e){this.$store.dispatch("add_message",{message:e,gc:e.channel.group+"+"+e.channel.channel}).then(function(){$("#chatView")[0].scrollTop=$("#chatView")[0].scrollHeight,$("#chatView").scrollTop=$("#chatView").scrollHeight})}.bind(this))}.bind(this))}.bind(this))}.bind(this)),this.$store.dispatch("refresh_pms",this.token).then(function(){this.$store.dispatch("init_pms",{channels:this.pms,token:this.token}).then(function(){$("#chatView")[0].scrollTop=$("#chatView")[0].scrollHeight,$("#chatView").scrollTop=$("#chatView").scrollHeight})}.bind(this)),p.subscribe("pm:"+this.user_info.sub,{waitForAuth:!0}).watch(function(e){this.pms.includes(e.user)||(console.log("foo"),this.$store.dispatch("add_pm_channel",e.user)),this.$store.dispatch("add_message",{message:e,gc:"pm+"+e.user}).then(function(){$("#chatView")[0].scrollTop=$("#chatView")[0].scrollHeight,$("#chatView").scrollTop=$("#chatView").scrollHeight}.bind(this))}.bind(this))},chat_scroll:function(e){0==$("#chatView").scrollTop()&&(console.log(this.at_max()),"pm"==this.group?this.$store.dispatch("load_pms",{user:this.channel,token:this.token}):this.$store.dispatch("load_messages",{gc:{group:this.group,channel:this.channel},token:this.token}))},file_url:function(e,a){return b.a.FILES_URL+"/file/"+e+"/"+a},at_max:function(){return!!this.current_messages&&this.current_messages.length/b.a.HISTORY_COUNT},is_image:function(e){return e.split(".")[e.split(".").length-1].match(/(jpeg)|(jpg)|(png)|(gif)/)},image_load:function(e){$("#chatView")[0].scrollTop=$("#chatView")[0].scrollHeight,$("#chatView").scrollTop=$("#chatView").scrollHeight,$(".materialboxed").materialbox()},open_pm:function(e){this.changeGC("pm",e.target.id),this.$store.dispatch("add_pm_channel",e.target.id)},render_pm_user:function(e){return e.replace(this.user_info.sub,"")}},mounted:function(){$(".button-collapse").sideNav({closeOnClick:!0}),$(".modal").modal(),void 0!=this.$route.query.id_token?this.token?this.$router.push("/"):i.a.get("nonce")==this.$route.query.nonce?(i.a.remove("nonce"),this.$store.dispatch("login",this.$route.query),this.$store.dispatch("get_userinfo",this.$route.query),this.$router.push("/")):(h.a.error("Improper nonce, you may be under attack."),i.a.remove("nonce"),i.a.set("nonce",g),this.$router.push("/")):i.a.get("nonce")||i.a.set("nonce",g),this.token&&(p=o.a.connect(_),p.on("connect",function(e){e.isAuthenticated?this.init_channels():p.emit("login",{token:this.token,channel:this.group+"+"+this.channel},function(e){e?(this.$router.push("/"),this.token&&h.a.error(e)):this.init_channels()}.bind(this))}.bind(this))),setTimeout(function(){this.token||(window.location.href=this.redirect_uri)}.bind(this),1e3)}}},136:function(e,a,s){"use strict";var t=s(15),n=s(46),c=s(11),i=s(29),f=s(45),r=s.n(f);c.a.use(i.a),a.a={getChannels:function(e,a){c.a.http.get(n.a.withAuth(e,t.a.MESSAGES_URL+"/channels"),{headers:{Authorization:"Basic "+btoa(t.a.CLIENT_ID+":"+t.a.CLIENT_SECRET)}}).then(function(e){a(e.body)},function(e){r.a.error(e.body.message)})},getPMS:function(e,a){c.a.http.get(n.a.withAuth(e,t.a.MESSAGES_URL+"/pms"),{headers:{Authorization:"Basic "+btoa(t.a.CLIENT_ID+":"+t.a.CLIENT_SECRET)}}).then(function(e){a(e.body)},function(e){r.a.error(e.body.message)})}}},137:function(e,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var t=s(11),n=s(125),c=s.n(n),i=s(29),f=s(123),r=s(124);t.a.config.productionTip=!1,t.a.use(i.a),new t.a({el:"#app",store:r.a,router:f.a,template:"<App/>",components:{App:c.a}})},138:function(e,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});s(30)},139:function(e,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),s.d(a,"userToken",function(){return t});var t=function(e){}},140:function(e,a,s){"use strict";var t,n=s(48),c=s.n(n),i=s(145),f=s.n(i),r=s(78),d=s.n(r),o=s(136),u=s(77),h=s(30),b=s(75),l=s.n(b),m=s(62),g=(s.n(m),{channels:[],users:{},pms:[]}),p={channels:function(e){return e.channels},users:function(e){return e.users},pms:function(e){return e.pms}},_={refresh_channels:function(e,a){var s=e.commit;e.state;return new d.a(function(e,t){o.a.getChannels(a,function(t){var n=[];l.a.eachSeries(t,function(e,t){n[e.group]?n[e.group].push(e.channel):n[e.group]=[e.channel],u.a.get_users(e,a,function(e){f()(e).forEach(function(a){s(h.c,{id:a,user:e[a]})}),t()})},function(){var a=[];for(var t in n)a.push({group:t,channels:n[t]});s(h.d,a),e()})})})},add_pm_channel:function(e,a){var s=e.commit;e.state;s(h.e,a)},refresh_pms:function(e,a){var s=e.commit;e.state;return new d.a(function(e,t){o.a.getPMS(a,function(a){l.a.eachSeries(a.pms,function(e,a){u.a.get_user(e,function(t){s(h.c,e,t),s(h.e,e),a()})},function(){e()})})})}},v=(t={},c()(t,h.d,function(e,a){e.channels=a}),c()(t,h.c,function(e,a){e.users[a.id]=a.user}),c()(t,h.f,function(e,a){e.users=a}),c()(t,h.e,function(e,a){e.pms.includes(a)||e.pms.push(a)}),t);a.a={state:g,getters:p,actions:_,mutations:v}},141:function(e,a,s){"use strict";var t,n=s(48),c=s.n(n),i=s(78),f=s.n(i),r=s(76),d=s(30),o=s(75),u=s.n(o),h=s(11),b=s(15),l={messages:{},num_messages:{}},m={messages:function(e){return e.messages},num_messages:function(e){return e.num_messages}},g={add_message:function(e,a){var s=e.commit;e.state;return new f.a(function(e,t){s(d.a,a),e()})},init_messages:function(e,a){var s=e.commit;e.state;return new f.a(function(e,t){u.a.each(a.channels,function(e,t){u.a.each(e.channels,function(t,n){r.a.get_messages({group:e.group,channel:t},a.token,function(a){a.forEach(function(a){s(d.a,{message:a,gc:e.group+"+"+t})}),n()})},function(e){e?t(e):t()})},function(a){e()})})},load_messages:function(e,a){var s=e.commit,t=e.state;return new f.a(function(e,n){var c=t.num_messages[a.gc.group+"+"+a.gc.channel];c>=b.a.HISTORY_COUNT?r.a.get_messages_offset(a.gc,c,a.token,function(t){for(var n=t.length-1;n>=0;n--)s(d.b,{message:t[n],gc:a.gc.group+"+"+a.gc.channel});e()}):e()})},init_pms:function(e,a){var s=e.commit;e.state;return new f.a(function(e,t){u.a.each(a.channels,function(e,t){r.a.get_pms(e,a.token,function(a){a.messages.forEach(function(a){s(d.a,{message:a,gc:"pm+"+e})}),t()})},function(a){e()})})},load_pms:function(e,a){var s=e.commit,t=e.state;return new f.a(function(e,n){var c=t.num_messages["pm+"+a.user];c>=b.a.HISTORY_COUNT?r.a.get_pms_offset(a.user,c,a.token,function(t){for(var n=t.messages.length-1;n>=0;n--)s(d.b,{message:t.messages[n],gc:"pm+"+a.user});e()}):e()})}},p=(t={},c()(t,d.a,function(e,a){if(e.messages[a.gc]){e.num_messages[a.gc]+=1;var s=new Date(a.message.datetime),t=e.messages[a.gc];if(t[t.length-1].date==r.a.render_date(s)){var n=t[t.length-1],c=n.messages[n.messages.length-1];if(c.user!=a.message.user)n.messages.push({user:a.message.user,datetime:a.message.datetime,type:a.message.type,messages:[a.message.message]});else if(c.type!=a.message.type)n.messages.push({user:a.message.user,datetime:a.message.datetime,type:a.message.type,messages:[a.message.message]});else{var i=new Date(c.datetime);r.a.render_time(i)==r.a.render_time(s)?c.messages.push(a.message.message):n.messages.push({user:a.message.user,datetime:a.message.datetime,type:a.message.type,messages:[a.message.message]})}}else e.messages[a.gc].push({date:r.a.render_date(new Date(a.message.datetime)),messages:[{user:a.message.user,datetime:a.message.datetime,type:a.message.type,messages:[a.message.message]}]})}else h.a.set(e.num_messages,a.gc,1),h.a.set(e.messages,a.gc,[{date:r.a.render_date(new Date(a.message.datetime)),messages:[{user:a.message.user,datetime:a.message.datetime,type:a.message.type,messages:[a.message.message]}]}])}),c()(t,d.b,function(e,a){if(e.messages[a.gc]){e.num_messages[a.gc]+=1;var s=new Date(a.message.datetime),t=e.messages[a.gc];if(t[0].date==r.a.render_date(s)){var n=t[0],c=n.messages[0];if(c.user!=a.message.user)n.messages.unshift({user:a.message.user,datetime:a.message.datetime,type:a.message.type,messages:[a.message.message]});else if(c.type!=a.message.type)n.messages.unshift({user:a.message.user,datetime:a.message.datetime,type:a.message.type,messages:[a.message.message]});else{var i=new Date(c.datetime);r.a.render_time(i)==r.a.render_time(s)?c.messages.unshift(a.message.message):n.messages.unshift({user:a.message.user,datetime:a.message.datetime,type:a.message.type,messages:[a.message.message]})}}else e.messages[a.gc].unshift({date:r.a.render_date(new Date(a.message.datetime)),messages:[{user:a.message.user,datetime:a.message.datetime,type:a.message.type,messages:[a.message.message]}]})}else h.a.set(e.num_messages,a.gc,1),h.a.set(e.messages,a.gc,[{date:r.a.render_date(new Date(a.message.datetime)),messages:[{user:a.message.user,datetime:a.message.datetime,type:a.message.type,messages:[a.message.message]}]}])}),t);a.a={state:l,getters:m,actions:g,mutations:p}},142:function(e,a,s){"use strict";var t,n=s(48),c=s.n(n),i=s(47),f=s.n(i),r=s(77),d=s(30),o=s(62),u=s.n(o),h={token:u.a.get("token"),user_info:u.a.get("user_info")?JSON.parse(u.a.get("user_info")):{},err_message:""},b={user_token:function(e){return e.token},user_info:function(e){return e.user_info},err_message:function(e){return e.err_message}},l={login:function(e,a){var s=e.commit;e.state;s(d.g),u.a.set("token",a.id_token,{expires:1}),s(d.h,a.id_token)},logout:function(e){var a=e.commit;e.state;u.a.remove("token"),u.a.remove("gc"),u.a.remove("nonce"),a(d.i)},get_userinfo:function(e,a){var s=e.commit;e.state;r.a.get_userinfo(a.access_token,function(e){u.a.set("user_info",f()(e),{expires:1}),s(d.j,e)})}},m=(t={},c()(t,d.g,function(e){e.token="",e.err_message=""}),c()(t,d.h,function(e,a){e.token=a}),c()(t,d.i,function(e){e.token=""}),c()(t,d.j,function(e,a){e.user_info=a}),t);a.a={state:h,getters:b,actions:l,mutations:m}},15:function(e,a,s){"use strict";var t="192.168.99.100";a.a={CLIENT_ID:"406z041j8k0erjm",CLIENT_SECRET:"H1o8nmd_-",HISTORY_COUNT:50,SELF_URL:t+":10200",OPENID_URL:"http://"+t+":10202",MESSAGES_URL:"http://"+t+":10204",ACCOUNTS_URL:"http://"+t+":10206",FILES_URL:"http://"+t+":10207",SOCKETCLUSTER_HOST:t,SOCKETCLUSTER_PORT:"10203"}},213:function(e,a){e.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},227:function(e,a){e.exports={_args:[[{raw:"elliptic@^6.0.0",scope:null,escapedName:"elliptic",name:"elliptic",rawSpec:"^6.0.0",spec:">=6.0.0 <7.0.0",type:"range"},"C:\\Users\\orcas\\Documents\\ln\\web\\node_modules\\browserify-sign"]],_from:"elliptic@>=6.0.0 <7.0.0",_id:"elliptic@6.4.0",_inCache:!0,_location:"/elliptic",_nodeVersion:"7.0.0",_npmOperationalInternal:{host:"packages-18-east.internal.npmjs.com",tmp:"tmp/elliptic-6.4.0.tgz_1487798866428_0.30510620190761983"},_npmUser:{name:"indutny",email:"fedor@indutny.com"},_npmVersion:"3.10.8",_phantomChildren:{},_requested:{raw:"elliptic@^6.0.0",scope:null,escapedName:"elliptic",name:"elliptic",rawSpec:"^6.0.0",spec:">=6.0.0 <7.0.0",type:"range"},_requiredBy:["/browserify-sign","/create-ecdh"],_resolved:"https://registry.npmjs.org/elliptic/-/elliptic-6.4.0.tgz",_shasum:"cac9af8762c85836187003c8dfe193e5e2eae5df",_shrinkwrap:null,_spec:"elliptic@^6.0.0",_where:"C:\\Users\\orcas\\Documents\\ln\\web\\node_modules\\browserify-sign",author:{name:"Fedor Indutny",email:"fedor@indutny.com"},bugs:{url:"https://github.com/indutny/elliptic/issues"},dependencies:{"bn.js":"^4.4.0",brorand:"^1.0.1","hash.js":"^1.0.0","hmac-drbg":"^1.0.0",inherits:"^2.0.1","minimalistic-assert":"^1.0.0","minimalistic-crypto-utils":"^1.0.0"},description:"EC cryptography",devDependencies:{brfs:"^1.4.3",coveralls:"^2.11.3",grunt:"^0.4.5","grunt-browserify":"^5.0.0","grunt-cli":"^1.2.0","grunt-contrib-connect":"^1.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^1.0.1","grunt-mocha-istanbul":"^3.0.1","grunt-saucelabs":"^8.6.2",istanbul:"^0.4.2",jscs:"^2.9.0",jshint:"^2.6.0",mocha:"^2.1.0"},directories:{},dist:{shasum:"cac9af8762c85836187003c8dfe193e5e2eae5df",tarball:"https://registry.npmjs.org/elliptic/-/elliptic-6.4.0.tgz"},files:["lib"],gitHead:"6b0d2b76caae91471649c8e21f0b1d3ba0f96090",homepage:"https://github.com/indutny/elliptic",keywords:["EC","Elliptic","curve","Cryptography"],license:"MIT",main:"lib/elliptic.js",maintainers:[{name:"indutny",email:"fedor@indutny.com"}],name:"elliptic",optionalDependencies:{},readme:"ERROR: No README data found!",repository:{type:"git",url:"git+ssh://git@github.com/indutny/elliptic.git"},scripts:{jscs:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",jshint:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",lint:"npm run jscs && npm run jshint",test:"npm run lint && npm run unit",unit:"istanbul test _mocha --reporter=spec test/index.js",version:"grunt dist && git add dist/"},version:"6.4.0"}},228:function(e,a){},229:function(e,a){},242:function(e,a){e.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},276:function(e,a,s){function t(e){s(229)}var n=s(121)(s(135),s(278),t,null,null);e.exports=n.exports},277:function(e,a){e.exports={render:function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},staticRenderFns:[]}},278:function(e,a){e.exports={render:function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("div",[s("nav",{directives:[{name:"show",rawName:"v-show",value:void 0!=e.token,expression:"token != undefined"}]},[s("div",{staticClass:"nav-wrapper cyan chat"},[s("a",{staticClass:"button-collapse brand-logo left",attrs:{href:"#","data-activates":"slide-out"}},[s("i",{staticClass:"material-icons"},[e._v("menu")]),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:"pm"!=e.group,expression:"group != 'pm'"}]},[e._v(e._s(e.group)+": "+e._s(e.channel))]),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:"pm"==e.group,expression:"group == 'pm'"}]},[e._v(e._s(e.channel))])]),e._v(" "),s("ul",{staticClass:"left hide-on-med-and-down"},[s("li",{directives:[{name:"show",rawName:"v-show",value:"pm"!=e.group,expression:"group != 'pm'"}]},[s("a",[e._v(e._s(e.group)+" : "+e._s(e.channel))])]),e._v(" "),s("li",{directives:[{name:"show",rawName:"v-show",value:"pm"==e.group,expression:"group == 'pm'"}]},[s("a",[e._v(e._s(e.channel))])])])])]),e._v(" "),s("ul",{directives:[{name:"show",rawName:"v-show",value:void 0!=e.token,expression:"token != undefined"}],staticClass:"side-nav fixed",attrs:{id:"slide-out"}},[s("li",[s("div",{staticClass:"user-view"},[s("div",{staticClass:"background cyan"}),e._v(" "),s("a",[s("span",{staticClass:"white-text name"},[e._v(e._s(e.user_info.username))])]),e._v(" "),s("a",[s("span",{staticClass:"white-text email"},[e._v(e._s(e.user_info.name))])])])]),e._v(" "),e._l(e.channels,function(a){return"pm"!=a.group?s("div",[s("li",[s("a",{staticClass:"subheader"},[e._v(e._s(a.group))])]),e._v(" "),e._l(a.channels,function(t){return s("li",[s("a",{staticClass:"waves-effect",on:{click:function(s){e.changeGC(a.group,t)}}},[e._v(e._s(t))])])})],2):e._e()}),e._v(" "),e.pms.length>0?s("div",[e._m(0),e._v(" "),e._l(e.pms,function(a){return s("li",[s("a",{staticClass:"waves-effect",on:{click:function(s){e.changeGC("pm",a)}}},[e._v(e._s(a))])])})],2):e._e(),e._v(" "),e._m(1),e._v(" "),s("li",[s("a",{staticClass:"waves-effect",on:{click:e.logout}},[s("i",{staticClass:"material-icons"},[e._v("exit_to_app")]),e._v("Logout")])])],2),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:void 0!=e.token,expression:"token != undefined"}],staticClass:"chat"},[s("div",{attrs:{id:"chatView"},on:{scroll:e.chat_scroll}},[e.messages[e.group+"+"+e.channel]?e._e():s("div",{staticClass:"row"},[e._m(2)]),e._v(" "),e._l(e.messages[e.group+"+"+e.channel],function(a){return s("ul",{staticClass:"collection with-header"},[s("li",{staticClass:"collection-header"},[s("h6",{staticClass:"cyan-text"},[e._v(e._s(a.date))])]),e._v(" "),e._l(a.messages,function(a){return s("li",{staticClass:"collection-item avatar",staticStyle:{"text-align":"left"}},[e.user_info.sub!=a.user?s("a",{attrs:{href:"#"},on:{click:e.open_pm}},[s("span",{staticClass:"title",attrs:{id:a.user}},[e._v(e._s(e.users[a.user].username))])]):s("span",{staticClass:"title"},[s("b",[e._v(e._s(e.users[a.user].username))])]),e._v(" "),e._l(a.messages,function(t){return s("p",["m"==a.type?s("span",[e._v(e._s(t))]):"f"==a.type?s("span",[s("a",{attrs:{href:e.file_url(a.user,t.filename),download:a.originalname}},[s("b",[e._v(e._s(t.originalname))])]),s("br"),e._v(" "),e.is_image(t.originalname)?s("img",{staticClass:"materialboxed",attrs:{src:e.file_url(a.user,t.filename),alt:t.originalname,width:"90%"},on:{load:function(a){e.image_load(e.event)}}}):e._e(),s("br")]):e._e()])}),e._v(" "),s("span",{staticClass:"secondary-content"},[e._v(e._s(e.render_time(a.datetime)))])],2)})],2)})],2),e._v(" "),e._m(3),e._v(" "),s("form",{staticClass:"entry",on:{submit:function(a){a.preventDefault(),e.send(a)}}},[s("div",{staticClass:"input-field"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.message,expression:"message"}],attrs:{type:"text",placeholder:"Enter your message..."},domProps:{value:e.message},on:{input:function(a){a.target.composing||(e.message=a.target.value)}}})])]),e._v(" "),s("div",{staticClass:"modal",attrs:{id:"attachment-modal"}},[s("form",{on:{submit:function(a){a.preventDefault(),e.uploadfile(a)}}},[e._m(4),e._v(" "),e._m(5)])])]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:void 0==e.token,expression:"token == undefined"}],staticClass:"valign-wrapper center-align"},[s("p",[e._v("Redirecting to login... If you are not redirected, please go "),s("a",{attrs:{href:e.redirect_uri}},[e._v("here.")])])])])},staticRenderFns:[function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("li",[s("a",{staticClass:"subheader"},[e._v("Direct Messages")])])},function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("li",[s("div",{staticClass:"divider"})])},function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("div",{staticClass:"col s4 offset-s4"},[s("div",{staticClass:"card-panel white"},[s("span",{staticClass:"cyan-text"},[e._v("There are no messages.")])])])},function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("div",{staticClass:"fixed-action-btn"},[s("a",{staticClass:"btn-floating waves-effect waves-light right red modal-trigger",attrs:{href:"#attachment-modal"}},[s("i",{staticClass:"material-icons"},[e._v("attach_file")])])])},function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("div",{staticClass:"modal-content"},[s("h4",[e._v("Upload file")]),e._v(" "),s("div",{staticClass:"file-field input-field"},[s("div",{staticClass:"btn cyan"},[s("span",[e._v("Choose...")]),e._v(" "),s("input",{attrs:{id:"file_upload",type:"file"}})]),e._v(" "),s("div",{staticClass:"file-path-wrapper"},[s("input",{staticClass:"file-path validate",attrs:{type:"text"}})])])])},function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("div",{staticClass:"modal-footer"},[s("input",{staticClass:"modal-close waves-effect waves-green btn-flat",attrs:{type:"submit",value:"Upload"}}),e._v(" "),s("a",{staticClass:"modal-close waves-effect waves-red btn-flat"},[e._v("Close")])])}]}},282:function(e,a){},283:function(e,a){},284:function(e,a){},30:function(e,a,s){"use strict";s.d(a,"g",function(){return t}),s.d(a,"h",function(){return n}),s.d(a,"i",function(){return c}),s.d(a,"j",function(){return i}),s.d(a,"d",function(){return f}),s.d(a,"e",function(){return r}),s.d(a,"a",function(){return d}),s.d(a,"b",function(){return o}),s.d(a,"c",function(){return u}),s.d(a,"f",function(){return h});var t="LOGIN",n="LOGIN_SUCCESS",c="LOGOUT",i="UPDATE_USERINFO",f="REFRESH_CHANNELS",r="ADD_PM_CHANNEL",d="ADD_MESSAGE",o="PREPEND_MESSAGE",u="ADD_USER",h="ADD_USERS"},46:function(e,a,s){"use strict";var t=s(15);a.a={withAuth:function(e,a){return t.a.OPENID_URL+"/verify/"+e+"/"+encodeURIComponent(a)}}},76:function(e,a,s){"use strict";var t=s(47),n=s.n(t),c=s(11),i=s(29),f=s(45),r=s.n(f),d=s(46),o=s(15);c.a.use(i.a),a.a={get_messages:function(e,a,s){c.a.http.get(d.a.withAuth(a,o.a.MESSAGES_URL+"/messages/"+n()(e)+"/"+o.a.HISTORY_COUNT),{headers:{Authorization:"Basic "+btoa(o.a.CLIENT_ID+":"+o.a.CLIENT_SECRET)},responseType:"json"}).then(function(e){s(e.body)},function(e){r.a.error(e.body.message)})},get_messages_offset:function(e,a,s,t){c.a.http.get(d.a.withAuth(s,o.a.MESSAGES_URL+"/messages/"+n()(e)+"/"+a+"/"+o.a.HISTORY_COUNT),{headers:{Authorization:"Basic "+btoa(o.a.CLIENT_ID+":"+o.a.CLIENT_SECRET)},responseType:"json"}).then(function(e){t(e.body)},function(e){r.a.error(e.body.message)})},get_pms:function(e,a,s){c.a.http.get(d.a.withAuth(a,o.a.MESSAGES_URL+"/pms/"+e+"/"+o.a.HISTORY_COUNT),{headers:{Authorization:"Basic "+btoa(o.a.CLIENT_ID+":"+o.a.CLIENT_SECRET)},responseType:"json"}).then(function(e){s(e.body)},function(e){r.a.error(e.body.message)})},get_pms_offset:function(e,a,s,t){c.a.http.get(d.a.withAuth(s,o.a.MESSAGES_URL+"/pms/"+e+"/"+a+"/"+o.a.HISTORY_COUNT),{headers:{Authorization:"Basic "+btoa(o.a.CLIENT_ID+":"+o.a.CLIENT_SECRET)},responseType:"json"}).then(function(e){t(e.body)},function(e){r.a.error(e.body.message)})},send_file:function(e,a,s){c.a.http.post(d.a.withAuth(a,o.a.FILES_URL+"/file"),e,{headers:{Authorization:"Basic "+btoa(o.a.CLIENT_ID+":"+o.a.CLIENT_SECRET)}}).then(function(e){s(e)},function(e){r.a.error(e.body.message)})},render_time:function(e){var a=new Date(e);return(a.getHours()<10?"0"+a.getHours():a.getHours())+":"+(a.getMinutes()<10?"0"+a.getMinutes():a.getMinutes())},render_date:function(e){var a=new Date(e);return a.getDay()+"/"+a.getMonth()+"/"+a.getFullYear()}}},77:function(e,a,s){"use strict";var t=s(47),n=s.n(t),c=s(11),i=s(29),f=s(45),r=s.n(f),d=s(46),o=s(15);c.a.use(i.a),a.a={get_userinfo:function(e,a){c.a.http.get(o.a.OPENID_URL+"/userinfo",{headers:{Authorization:"Bearer "+e},responseType:"json"}).then(function(e){a(e.body)},function(e){r.a.error(e.body.error_description)})},get_user:function(e,a){c.a.http.get(o.a.ACCOUNTS_URL+"/user/"+e,{responseType:"json"}).then(function(e){a(e.body.user)},function(e){r.a.error(e.body.message)})},get_users:function(e,a,s){c.a.http.get(d.a.withAuth(a,o.a.ACCOUNTS_URL+"/users/"+n()(e)),{headers:{Authorization:"Basic "+btoa(o.a.CLIENT_ID+":"+o.a.CLIENT_SECRET)},responseType:"json"}).then(function(e){s(e.body.users)},function(e){r.a.error(e.body.message)})}}},88:function(e,a){e.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},89:function(e,a){e.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}}},[137]);
//# sourceMappingURL=app.0d79a064dfb8b2168929.js.map